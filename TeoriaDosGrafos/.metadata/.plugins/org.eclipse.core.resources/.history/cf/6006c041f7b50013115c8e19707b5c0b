package AlgoritmoBusca;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class BuscaEmLargura {
	public BuscaEmLargura()	{
		
	}
	
	public VetorRoteamento buscar(Grafo grafo){
		return buscar(grafo, grafo.getVertices().get(0));
	}
	
	public VetorRoteamento buscar(Grafo grafo, Vertice verticeInicial){
		Map<Vertice, String> cor = new HashMap<Vertice, String>();
		VetorRoteamento vetorRoteamento = new VetorRoteamento(grafo);
		
		for(Vertice u : grafo.getVertices())
		{
			System.out.println("Marcando o vertice " + u +" com a cor Branca");
			cor.put(u, "BRANCO");
		}
		
		cor.put(verticeInicial, "CINZA");
		vetorRoteamento.setTempoVertice(verticeInicial, 0);
		
		List<Vertice> q = new ArrayList<Vertice>();
		q.add(verticeInicial);
		
		while(q.size() > 0){
			Vertice u = q.remove(0);
			for(Vertice v : u.getAdjacencias()){
				if(cor.get(v) == "BRANCO"){
					q.add(v);
					cor.put(v, "CINZA");
					vetorRoteamento.setPaiVertice(v, u);
					vetorRoteamento.setTempoVertice(v, vetorRoteamento.getTempoVertice(u) + 1);
				}
			}
			cor.put(u, "PRETO");
		}
		
		return vetorRoteamento;
	}
}
